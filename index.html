<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Arpana Tech - Technology for a New Era</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
    <style>
        :root {
            --bg-color: #111827;
            --bg-secondary: #1F2937;
            --primary-color: #14B8A6;
            --primary-hover: #10a391;
            --text-primary: #F9FAFB;
            --text-secondary: #9CA3AF;
            --accent-green: #34D399;
            --accent-red: #F87171;
            --accent-yellow: #FBBF24;
            --shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.2), 0 4px 6px -2px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --border-color: #374151;
        }

        @keyframes jiggle {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px) rotate(-2deg); }
            75% { transform: translateX(3px) rotate(2deg); }
        }
        @keyframes zoomIn {
            from { transform: scale(0.95); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        @keyframes fadeOut {
            to { opacity: 0; visibility: hidden; }
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        body {
            background: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.7;
        }

        .hidden { display: none !important; }

        #auth-gate {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(17, 24, 39, 0.9);
            backdrop-filter: blur(8px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 5000;
            opacity: 1;
            transition: opacity 0.5s ease;
        }
        #auth-gate.fade-out { animation: fadeOut 0.5s ease-out forwards; }
        .login-box {
            background: var(--bg-secondary);
            padding: 40px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
            width: 90%;
            max-width: 400px;
            text-align: center;
            animation: zoomIn 0.5s ease-out forwards;
        }
        .login-box h2 { font-size: 28px; margin-bottom: 10px; }
        .login-box p { color: var(--text-secondary); margin-bottom: 30px; }
        .login-box .input-group { margin-bottom: 20px; text-align: left; }
        .login-box label { display: block; margin-bottom: 8px; font-weight: 500; font-size: 14px; }
        .login-box input {
            width: 100%;
            padding: 12px;
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 16px;
        }
        .login-box input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.3);
        }
        .login-box .btn { width: 100%; justify-content: center; margin-top: 10px; }
        #auth-error { color: var(--accent-red); margin-top: 15px; min-height: 20px; font-weight: 500; }

        .page-content { display: none; }
        .page-content.active { display: block; animation: zoomIn 0.5s ease; }

        .btn {
            background: var(--primary-color);
            color: #ffffff;
            padding: 12px 28px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.4s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            text-align: center;
            text-decoration: none;
        }
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 20px rgba(20, 184, 166, 0.25);
            background: var(--primary-hover);
        }
        .btn.secondary {
            background: transparent;
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
        }
        .btn:disabled {
            background: var(--border-color);
            color: var(--text-secondary);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        .grid-container { display: grid; gap: 25px; }
        .content-section { max-width: 1200px; margin: 80px auto; padding: 50px 25px; }
        .content-section.card {
            background: var(--bg-secondary);
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow);
        }
        .content-section h2 { text-align: center; margin-bottom: 60px; font-size: 42px; font-weight: 700; }
        
        header { text-align: center; padding: 80px 20px; }
        header h1 { font-size: 52px; font-weight: 700; }
        header p.subtitle {
            font-size: 20px;
            color: var(--text-secondary);
            margin-top: 15px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }
        nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 25px;
            background: rgba(31, 41, 55, 0.8);
            backdrop-filter: blur(10px);
            padding: 15px;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
        }
        nav a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.4s ease;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: 8px;
        }
        nav a:hover, nav a.active { color: var(--text-primary); background-color: rgba(255,255,255,0.1); }
        .cart-icon-container { position: relative; cursor: pointer; }
        #cart-counter {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--primary-color);
            color: var(--bg-color);
            border-radius: 50%;
            padding: 3px 7px;
            font-size: 12px;
            font-weight: bold;
            display: none;
            border: 2px solid var(--bg-secondary);
        }
        
        .hero-content { display: flex; flex-wrap: wrap; align-items: center; justify-content: center; gap: 50px; }
        .hero-text { flex: 1; min-width: 320px; text-align: center; }
        .hero-text h1 { font-size: 48px; margin-bottom: 20px; line-height: 1.2; }
        .hero-image img { max-width: 100%; border-radius: var(--border-radius); box-shadow: var(--shadow); }
        .product-grid { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
        .product-card {
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            background: var(--bg-secondary);
            transition: all 0.4s ease;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            cursor: pointer;
        }
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow);
            border-color: var(--primary-color);
        }
        .product-image-container { position: relative; }
        .product-card img { display: block; width: 100%; height: auto; aspect-ratio: 1 / 1; object-fit: cover; }
        .search-container { position: relative; margin: 20px auto 40px auto; max-width: 600px; }
        #productSearch {
            width: 100%;
            padding: 15px 20px;
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 30px;
            color: var(--text-primary);
            font-size: 16px;
            padding-right: 50px;
        }
        #productSearch:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.3);
        }
        
        .offer-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: 30px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: all .4s ease;
            position: relative;
            overflow: hidden;
        }
        .offer-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 0 25px rgba(20, 184, 166, 0.2);
            border-color: var(--primary-color);
        }
        .offer-badge {
            position: absolute;
            top: 20px;
            right: -35px;
            transform: rotate(45deg);
            background: var(--accent-red);
            color: #fff;
            padding: 5px 40px;
            font-weight: bold;
            font-size: 14px;
            box-shadow: var(--shadow);
        }
        .offer-card h3 { font-size: 24px; margin-bottom: 15px; color: var(--primary-color); }
        .offer-card p { color: var(--text-secondary); margin-bottom: 25px; min-height: 40px; }
        .price-container { margin: 20px 0; }
        .original-price { text-decoration: line-through; color: var(--text-secondary); font-size: 20px; }
        .sale-price { font-size: 40px; font-weight: bold; color: var(--accent-green); display: block; margin-top: 5px; }
        .offer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; }
        .deal-of-the-day {
            border: 2px solid var(--primary-color);
            background: linear-gradient(145deg, var(--bg-secondary), #2a3a4e);
            box-shadow: 0 0 25px rgba(20, 184, 166, 0.15);
        }
        .deal-of-the-day .offer-badge { background: var(--primary-color); }
        #countdown {
            margin-top: 20px;
            background: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: 500;
        }
        
        .blog-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px; }
        .blog-card {
            background: var(--bg-secondary);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: all .4s ease;
        }
        .blog-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0 25px rgba(20, 184, 166, 0.15);
        }
        .blog-card-image { width: 100%; height: 200px; object-fit: cover; }
        .blog-card-content { padding: 30px; }
        .blog-card-content h3 { font-size: 22px; margin-bottom: 15px; }
        .blog-card-meta { font-size: 14px; color: var(--text-secondary); margin-bottom: 15px; }
        .blog-card-excerpt { margin-bottom: 20px; line-height: 1.6; }

        .testimonial-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 30px; }
        .testimonial-card {
            background: var(--bg-secondary);
            border-left: 5px solid var(--primary-color);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--shadow);
            transition: all .4s ease;
        }
        .testimonial-card:hover { transform: scale(1.03); }
        .testimonial-card blockquote {
            font-size: 1.1em;
            color: var(--text-primary);
            margin-bottom: 20px;
            font-style: italic;
            border-left: 3px solid var(--border-color);
            padding-left: 15px;
        }
        .user-info { display: flex; align-items: center; justify-content: space-between; margin-top: 20px; }
        .user-info .callsign { font-weight: 700; font-size: 1.2em; }
        .user-info .product-ref { font-size: 0.9em; color: var(--text-secondary); font-weight: 500; }
        .star-rating { color: var(--accent-yellow); }
        
        .contact-container { display: grid; grid-template-columns: 2fr 1fr; gap: 50px; align-items: flex-start; }
        .contact-form .input-group { margin-bottom: 20px; }
        .contact-form label { display: block; margin-bottom: 8px; font-weight: 500; color: var(--text-secondary); }
        .contact-form input, .contact-form textarea, .contact-form select {
            width: 100%;
            padding: 15px;
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 16px;
        }
        .contact-form input:focus, .contact-form textarea:focus, .contact-form select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(20, 184, 166, 0.3);
        }
        .contact-form textarea { resize: vertical; min-height: 150px; }
        .contact-info {
            background: var(--bg-secondary);
            padding: 30px;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
        }
        .contact-info h3 { margin-bottom: 20px; border-bottom: 1px solid var(--border-color); padding-bottom: 10px; }
        .contact-info p { margin-bottom: 15px; color: var(--text-secondary); line-height: 1.6; }
        .contact-info strong { color: var(--text-primary); font-weight: 600; }

        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(17, 24, 39, 0.8);
            backdrop-filter: blur(5px);
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        .modal.show { display: flex; align-items: center; justify-content: center; opacity: 1; }
        .modal-content {
            background-color: var(--bg-secondary);
            margin: auto;
            padding: 30px;
            border-radius: var(--border-radius);
            width: 90%;
            text-align: left;
            position: relative;
            transform: scale(0.95);
            animation: zoomIn 0.4s ease forwards;
            box-shadow: var(--shadow);
            max-height: 90vh;
            overflow-y: auto;
        }
        .close-btn {
            color: #9CA3AF;
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 32px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.4s, transform 0.4s;
            z-index: 10;
        }
        .close-btn:hover { color: var(--text-primary); transform: rotate(90deg); }
        
        #productDetailModal .modal-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 40px;
            max-width: 800px;
        }
        #modal-img { width: 100%; height: auto; aspect-ratio: 1 / 1; object-fit: cover; border-radius: var(--border-radius); }
        #modal-title { font-size: 32px; margin-bottom: 15px; }
        #modal-description { color: var(--text-secondary); line-height: 1.7; margin-bottom: 20px; }
        #modal-price { font-size: 28px; font-weight: bold; color: var(--accent-green); margin-bottom: 25px; }
        #modal-specs { margin-top: 20px; }
        #modal-specs h4 { margin-bottom: 10px; font-size: 18px; }
        #modal-specs ul { list-style: none; color: var(--text-secondary); }
        #modal-specs li { padding: 8px 0; border-bottom: 1px solid var(--border-color); }
        .modal-buttons { display: flex; gap: 10px; margin-top: 20px; }

        #cartModal .modal-content { max-width: 700px; }
        #cartModal h2 { text-align: center; font-size: 28px; margin-bottom: 30px; }
        #cart-items-container { max-height: 50vh; overflow-y: auto; padding-right: 15px; }
        .cart-item { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px solid var(--border-color); }
        .cart-item img { width: 80px; height: 80px; object-fit: cover; border-radius: 8px; }
        .cart-item-info { flex-grow: 1; }
        .cart-item-info h4 { font-size: 18px; margin: 0 0 5px; }
        .cart-item-info p { color: var(--accent-green); font-weight: bold; }
        .cart-item-controls { display: flex; align-items: center; gap: 10px; }
        .quantity-btn {
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            width: 30px;
            height: 30px;
            cursor: pointer;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }
        .quantity-btn:hover { background: var(--primary-color); }
        .remove-item-btn { background: none; border: none; color: var(--accent-red); font-size: 24px; cursor: pointer; transition: color 0.2s; }
        .remove-item-btn:hover { color: #ff9e9e; }
        #cart-summary { margin-top: 30px; text-align: right; border-top: 1px solid var(--border-color); padding-top: 20px; }
        #cart-total { font-size: 24px; font-weight: bold; margin-bottom: 20px; }
        #empty-cart-message { text-align: center; color: var(--text-secondary); padding: 50px 0; font-size: 18px; }

        .toast {
            position: fixed;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-color);
            color: white;
            padding: 15px 30px;
            border-radius: 30px;
            box-shadow: 0 5px 20px rgba(20, 184, 166, 0.3);
            z-index: 3000;
            opacity: 0;
            transition: all 0.4s ease;
        }
        .toast.show { opacity: 1; visibility: visible; transform: translate(-50%, -40px); }
        
        .ai-content-box {
            background: rgba(0,0,0,0.2);
            border-left: 3px solid var(--primary-color);
            padding: 15px;
            margin-top: 20px;
            border-radius: 0 8px 8px 0;
            font-style: italic;
            color: var(--text-secondary);
        }
        .loader {
            width: 20px;
            height: 20px;
            border: 3px solid var(--border-color);
            border-top-color: var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 10px auto;
        }

        #journalModal .modal-content { max-width: 800px; }
        #journal-modal-image { width: 100%; height: 300px; object-fit: cover; border-radius: var(--border-radius); margin-bottom: 20px;}
        #journal-modal-title { font-size: 32px; margin-bottom: 10px; }
        #journal-modal-meta { color: var(--text-secondary); margin-bottom: 20px; }
        #journal-modal-content { line-height: 1.8; }

        .checkout-form .input-group { margin-bottom: 15px; }
        .checkout-form label { display: block; margin-bottom: 5px; font-size: 14px; color: var(--text-secondary); }
        .checkout-form input {
            width: 100%; padding: 12px; background: var(--bg-color); border: 1px solid var(--border-color);
            border-radius: 8px; color: var(--text-primary); font-size: 16px;
        }
        .payment-option {
            display: flex; align-items: center; padding: 15px; border: 1px solid var(--border-color);
            border-radius: 8px; margin-bottom: 10px; cursor: pointer; transition: all 0.3s ease;
        }
        .payment-option input { margin-right: 15px; }
        .payment-option:hover, .payment-option.selected { border-color: var(--primary-color); background: rgba(20, 184, 166, 0.1); }
        .payment-option.disabled { cursor: not-allowed; background: var(--bg-color); color: var(--text-secondary); opacity: 0.6; }
        .payment-option.disabled:hover { border-color: var(--border-color); }
        #order-confirmation-message { text-align: center; padding: 40px 20px; }
        #order-confirmation-message h3 { font-size: 28px; color: var(--accent-green); margin-bottom: 15px; }

        footer {
            text-align: center;
            padding: 40px 20px;
            background: var(--bg-secondary);
            color: var(--text-secondary);
            margin-top: 60px;
            border-top: 1px solid var(--border-color);
        }
        
        @media (max-width: 900px) {
            .contact-container { grid-template-columns: 1fr; }
            .hero-text h1 { font-size: 38px; }
        }

        @media (max-width: 768px) {
            header h1, .content-section h2 { font-size: 32px; }
            header p.subtitle { font-size: 18px; }
            nav { flex-wrap: wrap; gap: 10px; justify-content: center; padding: 15px 10px; }
            nav a { padding: 5px 8px; }
            .hero-content { text-align: center; }
            .testimonial-grid, .blog-grid, .offer-grid { grid-template-columns: 1fr; }
            #productDetailModal .modal-content {
                grid-template-columns: 1fr;
                max-height: 85vh;
                padding: 25px;
            }
            #modal-title { font-size: 24px; }
            .cart-item { flex-direction: column; align-items: flex-start; gap: 10px; }
            .cart-item-controls { margin-top: 10px; }
        }
        @media (max-width: 480px) {
            header { padding: 40px 15px; }
            header h1 { font-size: 28px; }
            header p.subtitle { font-size: 16px; }
            .content-section { padding: 30px 15px; }
            .login-box { padding: 25px; }
            .btn { padding: 10px 20px; font-size: 14px; }
            nav { gap: 5px; }
            nav a { font-size: 14px; }
        }
    </style>
</head>
<body>
    <svg width="0" height="0" style="display: none;">
        <symbol id="icon-cart" viewBox="0 0 20 20" fill="currentColor"><path d="M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.97 0l.004-.002.99-3.96a1 1 0 00-1.98-.002L4.618 3H3a1 1 0 000-2zM5 6a1 1 0 000 2h11.22l-1.35 6.753a1 1 0 01-.97.747H7.31a1 1 0 01-.97-.747L5.35 6H5z"></path><path d="M15 18a2 2 0 11-4 0 2 2 0 014 0zM7 18a2 2 0 11-4 0 2 2 0 014 0z"></path></symbol>
        <symbol id="icon-search" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></symbol>
        <symbol id="icon-plus" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd"></path></symbol>
        <symbol id="icon-star" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></symbol>
        <symbol id="icon-trash" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd"></path></symbol>
    </svg>

    <div id="auth-gate">
        <div class="login-box">
            <h2>Portal Access</h2>
            <p>Log in or create an account to continue.</p>
            <form id="auth-form">
                <div class="input-group">
                    <label for="username-input">Full Name</label>
                    <input id="username-input" type="text" placeholder="e.g., A. Sharma" required />
                </div>
                <div class="input-group">
                    <label for="password-input">Password</label>
                    <input id="password-input" type="password" placeholder="••••••••" required />
                </div>
                <div id="auth-error"></div>
                <button class="btn" id="login-btn">Log In</button>
                <button class="btn" id="signup-btn" style="background: transparent; border: 1px solid var(--primary-color); color: var(--primary-color);">Sign Up</button>
            </form>
        </div>
    </div>

    <div id="main-app" class="hidden">
        <header>
            <h1 id="page-title">Technology for a New Era.</h1>
            <p class="subtitle" id="page-subtitle">Pioneering technology, designed for impact.</p>
        </header>
        <nav>
            <a class="nav-link active" data-page="home">Home</a>
            <a class="nav-link" data-page="products-page">Collection</a>
            <a class="nav-link" data-page="blog-page">Journal</a>
            <a class="nav-link" data-page="reports-page">Testimonials</a>
            <a class="nav-link" data-page="contact-page">Contact Us</a>
            <div class="cart-icon-container" id="cartIcon">
                <svg class="icon" style="width:28px;height:28px;"><use xlink:href="#icon-cart"></use></svg>
                <span id="cart-counter">0</span>
            </div>
             <a href="#" id="logout-link" style="color: var(--accent-red);">Logout</a>
        </nav>
        <main>
            <div id="home" class="page-content active">
                <section id="hero" class="content-section">
                    <div class="hero-content">
                        <div class="hero-text">
                            <h1>Experience the Future. Unleash Your Potential.</h1>
                            <a href="#" class="btn nav-link" data-page="products-page">Explore the Collection</a>
                        </div>
                        <div class="hero-image">
                            <img src="images/hero-image.jpg" alt="Futuristic tech setup" />
                        </div>
                    </div>
                </section>
                <section id="home-offers" class="content-section">
                    <h2>Exclusive Bundles & Limited Editions</h2>
                    <div class="offer-grid">
                        <div class="offer-card deal-of-the-day">
                            <div class="offer-badge">FEATURED</div>
                            <h3>The Creator's Suite</h3>
                            <p>The ultimate creative package: Sentient OS, a 2TB Momentum SSD, and the FocusFlow Neural Interface.</p>
                            <div class="price-container"><span class="original-price">₹61,498</span><span class="sale-price">₹49,999</span></div>
                            <div id="countdown"></div>
                            <div style="display: flex; justify-content: center; margin-top: 20px;">
                                <button class="btn add-bundle-to-cart" data-bundle="coder">Add Bundle to Cart</button>
                            </div>
                        </div>
                        <div class="offer-card">
                            <div class="offer-badge">SAVE 17%</div>
                            <h3>The Innovator's Kit</h3>
                            <p>Visualize the future. Includes the Aura Projector and the Argus Smart-Glass Monocle.</p>
                            <div class="price-container"><span class="original-price">₹45,998</span><span class="sale-price">₹37,999</span></div>
                             <div style="display: flex; justify-content: center; margin-top: 20px;">
                                <button class="btn add-bundle-to-cart" data-bundle="innovator">Add Bundle to Cart</button>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <div id="products-page" class="page-content">
                <section class="content-section card">
                    <h2 id="products-page-title">Collection</h2>
                    <div style="text-align: center; margin-bottom: 20px;">
                        <button class="btn" id="open-concierge-btn">✨ Ask Tech Concierge</button>
                    </div>
                    <div class="search-container">
                        <input id="productSearch" type="search" placeholder="Search the collection...">
                        <svg class="icon" style="position:absolute; right:25px; top:50%; transform:translateY(-50%); width:20px; height:20px; color:var(--text-secondary);"><use xlink:href="#icon-search"></use></svg>
                    </div>
                    <div class="grid-container product-grid"></div>
                    <div id="no-results-message" style="display:none; text-align:center; padding:20px;">No matching products found.</div>
                </section>
            </div>
            <div id="blog-page" class="page-content">
                <section class="content-section">
                    <h2 id="blog-page-title">Journal</h2>
                    <div class="blog-grid" id="blog-grid"></div>
                </section>
            </div>
            <div id="reports-page" class="page-content">
                <section class="content-section">
                    <h2 id="reports-page-title">Testimonials</h2>
                    <div class="testimonial-grid">
                        <div class="testimonial-card">
                            <div class="star-rating">★★★★★</div>
                            <blockquote>The Synapse VR is absolutely mind-blowing. The resolution is unlike anything I've ever experienced. It's a true next-generation device and worth every penny.</blockquote>
                            <div class="user-info"><span class="callsign">Rohan S.</span><span class="product-ref">RE: Synapse VR</span></div>
                        </div>
                        <div class="testimonial-card">
                            <div class="star-rating">★★★★☆</div>
                            <blockquote>Momentum SSD is insanely fast. Compiles my entire kernel in under 3 seconds. Docking one star because it runs a bit hot; recommend pairing with a good cooling solution.</blockquote>
                            <div class="user-info"><span class="callsign">Jiya P.</span><span class="product-ref">RE: Momentum SSD 2TB</span></div>
                        </div>
                        <div class="testimonial-card">
                            <div class="star-rating">★★★★★</div>
                            <blockquote>The Aura Projector has transformed my living room into a cinema. The clarity and brightness are exceptional, even with ambient light. Setup was surprisingly simple.</blockquote>
                            <div class="user-info"><span class="callsign">Ankit K.</span><span class="product-ref">RE: Aura Projector</span></div>
                        </div>
                         <div class="testimonial-card">
                            <div class="star-rating">★★★☆☆</div>
                            <blockquote>The Echo Frames are a great concept, but the battery life needs improvement. I barely get through half the day with moderate use. The audio quality is good, though. Waiting for Gen 2.</blockquote>
                            <div class="user-info"><span class="callsign">Priya M.</span><span class="product-ref">RE: Echo Frames</span></div>
                        </div>
                    </div>
                </section>
            </div>
            <div id="contact-page" class="page-content">
                <section class="content-section">
                    <h2 id="contact-page-title">Contact Us</h2>
                    <div class="contact-container">
                        <form class="contact-form">
                            <div class="input-group"><label for="contact-name">Full Name</label><input id="contact-name" name="name" required="" type="text" /></div>
                            <div class="input-group"><label for="contact-email">Email</label><input id="contact-email" name="email" required="" type="email" /></div>
                            <div class="input-group"><label for="contact-subject">Subject</label><select id="contact-subject" name="subject"><option>Technical Support</option><option>Sales Inquiry</option><option>Partnership Proposal</option><option>General Feedback</option></select></div>
                            <div class="input-group"><label for="contact-message">Message</label><textarea id="contact-message" name="message" required=""></textarea></div>
                            <button class="btn" style="width: 100%; justify-content: center;" type="submit">Send Message</button>
                        </form>
                        <div class="contact-info">
                            <h3>Contact Information</h3>
                            <p><strong>Email:</strong><br /> dispatch@arpana.tech</p>
                            <p><strong>Location:</strong><br /> [REDACTED]</p>
                            <p><strong>Hours:</strong><br /> 09:00 - 18:00 IST</p>
                            <p style="border-top: 1px solid var(--border-color); padding-top: 15px; margin-top: 15px;">For sensitive inquiries, please use PGP encryption.</p>
                        </div>
                    </div>
                </section>
            </div>
        </main>
        <footer>
            <p>© 2025 Arpana Tech | Engineered by Gemini</p>
        </footer>
    </div>

    <div id="productDetailModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">×</span>
            <div><img id="modal-img" src="" alt="Product Image" /></div>
            <div>
                <h3 id="modal-title"></h3>
                <p id="modal-description"></p>
                <div id="modal-specs"></div>
                <p id="modal-price"></p>
                <div class="modal-buttons">
                    <button class="btn" id="modal-add-to-cart">Add to Cart</button>
                </div>
            </div>
        </div>
    </div>

    <div id="cartModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">×</span>
            <h2>Your Cart</h2>
            <div id="cart-items-container"></div>
            <div id="cart-summary">
                <div id="cart-total">Total: ₹0</div>
                <button class="btn" id="checkout-btn" style="width: 100%;">Proceed to Checkout</button>
            </div>
            <div id="empty-cart-message" class="hidden">
                <p>Your cart is empty.</p>
            </div>
        </div>
    </div>

    <div id="journalModal" class="modal">
        <div class="modal-content">
            <span class="close-btn">×</span>
            <img id="journal-modal-image" src="" alt="Journal Image">
            <h2 id="journal-modal-title"></h2>
            <p id="journal-modal-meta"></p>
            <div id="journal-modal-content"></div>
        </div>
    </div>
    
    <div id="checkoutShippingModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close-btn">×</span>
            <h2>Shipping Details</h2>
            <form id="shipping-form" class="checkout-form">
                <div class="input-group">
                    <label for="shipping-name">Full Name</label>
                    <input id="shipping-name" type="text" required>
                </div>
                <div class="input-group">
                    <label for="shipping-address">Address</label>
                    <input id="shipping-address" type="text" required>
                </div>
                <div class="input-group">
                    <label for="shipping-city">City</label>
                    <input id="shipping-city" type="text" required>
                </div>
                <div class="input-group">
                    <label for="shipping-pincode">Pincode</label>
                    <input id="shipping-pincode" type="text" required>
                </div>
                <button type="submit" class="btn" style="width: 100%;">Continue to Payment</button>
            </form>
        </div>
    </div>

    <div id="checkoutPaymentModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close-btn">×</span>
            <h2>Payment Method</h2>
            <div id="payment-options">
                <div class="payment-option disabled">
                    <input type="radio" name="payment" id="credit-card" disabled>
                    <label for="credit-card">Credit Card (Unavailable)</label>
                </div>
                <div class="payment-option disabled">
                    <input type="radio" name="payment" id="upi" disabled>
                    <label for="upi">UPI (Unavailable)</label>
                </div>
                <div class="payment-option" id="cod-option">
                    <input type="radio" name="payment" id="cod" checked>
                    <label for="cod">Cash on Delivery (COD)</label>
                </div>
            </div>
            <button id="place-order-btn" class="btn" style="width: 100%; margin-top: 20px;">Place Order</button>
        </div>
    </div>

     <div id="orderConfirmationModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
             <div id="order-confirmation-message">
                <h3>✓</h3>
                <h3>Order Placed Successfully!</h3>
                <p style="color: var(--text-secondary);">Thank you for your purchase. Your order will be delivered within 5-7 business days.</p>
                <button id="close-confirmation-btn" class="btn" style="margin-top: 20px;">Continue Shopping</button>
            </div>
        </div>
    </div>
    
    <div id="techConciergeModal" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close-btn">×</span>
            <h2>Tech Concierge</h2>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">Describe what you're looking for, and I'll recommend the perfect gear.</p>
            <div>
                <textarea id="concierge-input" placeholder="e.g., 'I need a fast SSD for video editing and gaming.'" style="width: 100%; min-height: 100px; background: var(--bg-color); border: 1px solid var(--border-color); color: var(--text-primary); border-radius: 8px; padding: 10px; font-size: 16px;"></textarea>
                <button class="btn" id="concierge-submit-btn" style="width: 100%; justify-content: center; margin-top: 15px;">Get Recommendation</button>
            </div>
            <div id="concierge-response" class="ai-content-box" style="display: none; margin-top: 20px;"></div>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const authGate = document.getElementById('auth-gate');
            const mainApp = document.getElementById('main-app');
            const authForm = document.getElementById('auth-form');
            const loginBtn = document.getElementById('login-btn');
            const signupBtn = document.getElementById('signup-btn');
            const usernameInput = document.getElementById('username-input');
            const passwordInput = document.getElementById('password-input');
            const authError = document.getElementById('auth-error');
            const logoutLink = document.getElementById('logout-link');

            function enterApp(username) {
                authGate.classList.add('fade-out');
                setTimeout(() => {
                    authGate.style.display = 'none';
                    mainApp.classList.remove('hidden');
                }, 500);
                document.getElementById('page-subtitle').textContent = `Welcome, ${username}.`;
                localStorage.setItem('loggedInUser', username);
            }

            function handleLogin(e) {
                e.preventDefault();
                const username = usernameInput.value.trim();
                const password = passwordInput.value.trim();
                authError.textContent = '';

                if (!username || !password) {
                    authError.textContent = 'All fields are required.';
                    return;
                }

                const users = JSON.parse(localStorage.getItem('tech_users')) || {};
                if (users[username] && users[username] === password) {
                    enterApp(username);
                } else {
                    authError.textContent = 'Invalid name or password.';
                }
            }

            function handleSignup(e) {
                e.preventDefault();
                const username = usernameInput.value.trim();
                const password = passwordInput.value.trim();
                authError.textContent = '';

                if (!username || !password) {
                    authError.textContent = 'All fields are required.';
                    return;
                }
                
                const users = JSON.parse(localStorage.getItem('tech_users')) || {};
                if (users[username]) {
                    authError.textContent = 'This name is already registered.';
                } else {
                    users[username] = password;
                    localStorage.setItem('tech_users', JSON.stringify(users));
                    showToast('Account created successfully! Logging in...');
                    setTimeout(() => enterApp(username), 1000);
                }
            }

            function handleLogout(e) {
                e.preventDefault();
                localStorage.removeItem('loggedInUser');
                mainApp.classList.add('hidden');
                authGate.style.display = 'flex';
                authGate.classList.remove('fade-out');
                usernameInput.value = '';
                passwordInput.value = '';
                authError.textContent = '';
            }

            const loggedInUser = localStorage.getItem('loggedInUser');
            if (loggedInUser) {
                enterApp(loggedInUser);
            }

            loginBtn.addEventListener('click', handleLogin);
            signupBtn.addEventListener('click', handleSignup);
            logoutLink.addEventListener('click', handleLogout);

            const productsData = [
                { id: 1, name: "Momentum SSD", price: 19999, spec: "Gen5 QLC, 15GB/s Read", description: "Experience instantaneous data access with cutting-edge quantum tunneling storage technology.", specs: { "Interface": "PCIe 6.0", "Capacity": "2TB", "Max Read": "15,500 MB/s", "Max Write": "12,000 MB/s" }, image: "images/img (1).png" },
                { id: 2, name: "Synapse VR", price: 45999, spec: "4K per eye, Haptic Feedback", description: "Blur the lines between reality and the virtual world with neural-synced VR immersion.", specs: { "Resolution": "4096x4096 per eye", "Refresh Rate": "144Hz", "Field of View": "120 Degrees", "Connectivity": "Neural-Sync, Wi-Fi 7" }, image: "images/img (2).png" },
                { id: 3, name: "Aura Projector", price: 29999, spec: "Interactive 3D Projections", description: "Bring your data to life with stunning volumetric holographic visuals.", specs: { "Projection Tech": "Coherent Light-field", "Resolution": "8K Volumetric", "Lumens": "3,000", "Interactivity": "Multi-point gesture control" }, image: "images/img (3).png" },
                { id: 4, name: "Echo Frames", price: 15999, spec: "Smart Audio Glasses", description: "Discreet audio and smart assistant access, integrated into stylish eyewear.", specs: { "Connectivity": "Bluetooth 5.2", "Battery": "6 Hours Music", "Features": "Voice Assistant, Open-ear Audio" }, image: "images/echo-frames.jpg" },
                { id: 5, name: "Nova Ring", price: 24999, spec: "Health & Activity Tracker", description: "A comprehensive health tracker in a minimalist, elegant ring. Monitor sleep, activity, and readiness.", specs: { "Material": "Titanium", "Sensors": "HR, SpO2, Temp", "Water Resistance": "100m" }, image: "images/nova-ring.jpg" },
                { id: 6, name: "Quantum Slate", price: 89999, spec: "E-Ink Tablet", description: "A paper-like digital tablet for reading, writing, and sketching with zero eye strain.", specs: { "Display": "10.3” E-Ink Carta 1200", "Storage": "128GB", "Pen": "4096 Pressure Levels" }, image: "images/quantum-slate.jpg" },
                { id: 7, name: "Helios Powerbank", price: 7999, spec: "Solar-Charging Powerbank", description: "Stay powered on the go with a rugged, high-capacity powerbank featuring solar panels.", specs: { "Capacity": "20,000mAh", "Output": "20W USB-C PD", "Features": "Solar Charging, Flashlight" }, image: "images/helios-powerbank.jpg" },
                { id: 8, name: "Orion Keyboard", price: 18999, spec: "Mechanical Keyboard", description: "A premium, customizable mechanical keyboard designed for an exceptional typing experience.", specs: { "Layout": "75%", "Switches": "Hot-swappable, Gateron Pro", "Material": "CNC Aluminum" }, image: "images/orion-keyboard.jpg" },
                { id: 9, name: "Cygnus Mouse", price: 9999, spec: "Ergonomic Wireless Mouse", description: "Sculpted for comfort and precision, this mouse is designed for all-day professional use.", specs: { "Sensor": "16,000 DPI Optical", "Connectivity": "2.4GHz Wireless, Bluetooth", "Buttons": "8 Programmable" }, image: "images/cygnus-mouse.jpg" }
            ];

            const bundles = {
                coder: [4, 1, 10],
                innovator: [3, 5]
            };

            const blogPostsData = [
                { id: 1, title: "The Silent Revolution: E-Ink's Resurgence", date: "August 15, 2025", author: "Dr. Alena Petrova", image: "images/journal-e-ink.jpg", excerpt: "Beyond e-readers, E-Ink technology is quietly becoming the face of sustainable, eye-friendly displays in public spaces and personal devices...", content: "<p>Beyond e-readers, E-Ink technology is quietly becoming the face of sustainable, eye-friendly displays in public spaces and personal devices. Its low power consumption and paper-like readability make it an ideal candidate for everything from digital signage to interactive whiteboards and even secondary laptop screens. We're exploring how our Quantum Slate leverages the latest Carta 1200 display to provide a superior writing and reading experience, reducing digital eye strain and reconnecting users with the focus of a paper notebook.</p><p>The key innovation lies in the refresh rate and pixel density, which now rival traditional LCDs for certain applications. This opens up possibilities for dynamic content without the harsh backlight associated with typical screens, making it perfect for focused work environments.</p>" },
                { id: 2, title: "The Data We Wear: Beyond Step Counting", date: "August 05, 2025", author: "Kenji Tanaka", image: "images/journal-wearables.jpg", excerpt: "Wearable technology has moved past simple metrics. The new generation of devices, like the Nova Ring, offers a holistic view of our well-being...", content: "<p>Wearable technology has moved past simple metrics. The new generation of devices, like the Nova Ring, offers a holistic view of our well-being by correlating data points from heart rate variability (HRV), body temperature, and blood oxygen levels. This isn't just about tracking your workout; it's about understanding your body's readiness for the day, the quality of your recovery, and the subtle signs of impending illness.</p><p>By using advanced algorithms, these devices can provide personalized insights that were once only available in clinical settings. The future of health tech is proactive, not reactive, and it starts with the data we wear every day.</p>" },
                { id: 3, title: "Haptic Feedback: The Unseen Interface", date: "July 28, 2025", author: "Priya Singh", image: "images/journal-haptics.jpg", excerpt: "How does virtual reality achieve true immersion? The answer lies in touch. The Synapse VR headset integrates a sophisticated haptic feedback system...", content: "<p>How does virtual reality achieve true immersion? The answer lies in touch. The Synapse VR headset integrates a sophisticated haptic feedback system that goes beyond simple rumbles. Using an array of linear resonant actuators, it can simulate textures, impacts, and even the sensation of rain on your skin. This technology is crucial for creating believable virtual interactions, whether in gaming, training simulations, or remote collaboration.</p><p>The challenge is not just creating the sensation, but synchronizing it perfectly with audio and visual cues. When done right, haptics can trick the brain into believing the virtual is real, unlocking a new level of presence and engagement.</p>" },
                { id: 4, title: "The Ergonomics of Productivity", date: "July 20, 2025", author: "David Chen", image: "images/journal-ergonomics.jpg", excerpt: "In the modern workspace, comfort is not a luxury; it's a cornerstone of productivity. The design of tools like the Orion Keyboard and Cygnus Mouse is a science...", content: "<p>In the modern workspace, comfort is not a luxury; it's a cornerstone of productivity. The design of tools like the Orion Keyboard and Cygnus Mouse is a science, involving anthropometric data and extensive user testing. A sculpted mouse shape reduces wrist strain, while the angle and layout of a keyboard can prevent repetitive stress injuries.</p><p>But ergonomics goes beyond shape. The tactile response of a mechanical switch, the weight of a mouse, and the texture of its surface all contribute to a more comfortable and efficient workflow. Investing in ergonomic peripherals is an investment in long-term health and performance.</p>" },
                { id: 5, title: "Off-Grid Power: The Promise of Portable Solar", date: "July 12, 2025", author: "Maria Garcia", image: "images/journal-solar.jpg", excerpt: "As our reliance on portable devices grows, so does the need for reliable power. The Helios Powerbank addresses this with high-efficiency solar cells...", content: "<p>As our reliance on portable devices grows, so does the need for reliable power, especially when away from civilization. The Helios Powerbank addresses this with high-efficiency monocrystalline solar cells that can generate a meaningful charge even in less-than-ideal sunlight. While not a replacement for wall charging, it provides a critical lifeline for adventurers, field workers, and anyone caught in an emergency.</p><p>The integration of USB-C Power Delivery means it can charge modern devices, including laptops, at a respectable speed. It's a testament to how far portable solar technology has come, moving from a novelty to a practical tool for the modern explorer.</p>" },
                { id: 6, title: "The Future is Heard, Not Seen", date: "July 02, 2025", author: "Ben Carter", image: "images/journal-audio.jpg", excerpt: "Audio-first computing is on the rise. Devices like the Echo Frames are pioneering a new way to interact with technology, one that is screen-free and seamlessly integrated...", content: "<p>Audio-first computing is on the rise. Devices like the Echo Frames are pioneering a new way to interact with technology, one that is screen-free and seamlessly integrated into our lives. By leveraging voice assistants and open-ear audio, these smart glasses provide notifications, navigation, and music without isolating the user from their surroundings. This is a fundamental shift from the screen-centric design that has dominated the last two decades.</p><p>The potential applications are vast, from real-time language translation whispered in your ear to discreet coaching during a presentation. As the technology matures, we may find ourselves looking at our phones less and listening to the world more.</p>" },
            ];

            const navLinks = document.querySelectorAll('.nav-link');
            const pageContents = document.querySelectorAll('.page-content');
            
            const pageHeaders = {
                home: { title: "Technology for a New Era." },
                'products-page': { title: "Collection" },
                'blog-page': { title: "Journal" },
                'reports-page': { title: "Testimonials" },
                'contact-page': { title: "Contact Us" }
            };

            function switchPage(pageId) {
                pageContents.forEach(content => content.classList.toggle('active', content.id === pageId));
                navLinks.forEach(link => {
                    const linkPage = link.dataset.page;
                    link.classList.toggle('active', linkPage === pageId);
                });
                window.scrollTo(0, 0);
            }

            document.querySelector('body').addEventListener('click', (e) => {
                const navLink = e.target.closest('a.nav-link');
                if (navLink && navLink.dataset.page) {
                    e.preventDefault();
                    switchPage(navLink.dataset.page);
                }
            });
            
            const productGrid = document.querySelector('.product-grid');
            const productSearch = document.getElementById('productSearch');
            const noResultsMessage = document.getElementById('no-results-message');
            const blogGrid = document.getElementById('blog-grid');

            function renderProducts(filter = '') {
                const filteredProducts = productsData.filter(p => p.name.toLowerCase().includes(filter.toLowerCase()));
                noResultsMessage.style.display = filteredProducts.length === 0 ? 'block' : 'none';
                productGrid.innerHTML = filteredProducts.map(p => `
                <div class="product-card" data-id="${p.id}">
                    <div class="product-image-container"><img src="${p.image}" alt="${p.name}"></div>
                    <div class="product-info" style="padding:25px; text-align:left; flex-grow:1; display:flex; flex-direction:column; justify-content:space-between;">
                        <div><h3 style="font-size:18px;">${p.name}</h3><p class="spec" style="font-size:14px; color:var(--text-secondary); margin-top:5px;">${p.spec}</p></div>
                        <p class="price" style="font-weight:bold; color:var(--accent-green); margin-top:15px; font-size:20px;">₹${p.price.toLocaleString('en-IN')}</p>
                    </div>
                </div>`).join('');
            }

            function renderBlogPosts() {
                blogGrid.innerHTML = blogPostsData.map(post => `
                    <div class="blog-card">
                        <img src="${post.image}" alt="${post.title}" class="blog-card-image">
                        <div class="blog-card-content">
                            <h3>${post.title}</h3>
                            <p class="blog-card-meta">By ${post.author} on ${post.date}</p>
                            <p class="blog-card-excerpt">${post.excerpt}</p>
                            <button class="btn read-more-btn" data-id="${post.id}" style="font-size: 14px; padding: 10px 20px;">Read More</button>
                        </div>
                    </div>`).join('');
            }
            
            if(productSearch) productSearch.addEventListener('input', (e) => renderProducts(e.target.value));
            renderProducts();
            renderBlogPosts();

            let cart = [];
            const cartIcon = document.getElementById("cartIcon");
            const cartCounter = document.getElementById("cart-counter");
            const toast = document.getElementById("toast");
            const productDetailModal = document.getElementById("productDetailModal");
            const cartModal = document.getElementById("cartModal");
            const cartItemsContainer = document.getElementById("cart-items-container");
            const cartSummary = document.getElementById("cart-summary");
            const emptyCartMessage = document.getElementById("empty-cart-message");
            const cartTotalElement = document.getElementById("cart-total");
            
            function showToast(message, success = true) {
                toast.innerHTML = `${success ? '✅' : 'ℹ️'} ${message}`;
                toast.style.background = success ? 'var(--primary-color)' : 'var(--accent-yellow)';
                toast.classList.add("show");
                setTimeout(() => toast.classList.remove("show"), 3000);
            }
            
            function updateCartCounter() {
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartCounter.textContent = totalItems;
                cartCounter.style.display = totalItems > 0 ? 'block' : 'none';
                if (totalItems > 0 && !cartIcon.style.animation) {
                    cartIcon.style.animation = 'jiggle 0.4s ease-in-out';
                    setTimeout(() => cartIcon.style.animation = '', 400);
                }
            }

            function addToCart(productId) {
                const product = productsData.find(p => p.id == productId);
                if (!product) return;
                const existingItem = cart.find(item => item.id === product.id);
                if(existingItem) { existingItem.quantity++; } 
                else { cart.push({ ...product, quantity: 1 }); }
                showToast(`'${product.name}' added to cart!`);
                updateCartCounter();
                renderCart();
            }

            function addBundleToCart(bundleName) {
                const productIds = bundles[bundleName];
                if (!productIds) return;
                productIds.forEach(id => {
                     const product = productsData.find(p => p.id == id);
                     if (!product) return;
                     const existingItem = cart.find(item => item.id === product.id);
                     if(existingItem) { existingItem.quantity++; } 
                     else { cart.push({ ...product, quantity: 1 }); }
                });
                showToast(`The '${bundleName}' bundle has been added!`);
                updateCartCounter();
                renderCart();
            }

            function renderCart() {
                if (cart.length === 0) {
                    cartSummary.classList.add('hidden');
                    emptyCartMessage.classList.remove('hidden');
                } else {
                    cartSummary.classList.remove('hidden');
                    emptyCartMessage.classList.add('hidden');
                }

                cartItemsContainer.innerHTML = cart.map(item => `
                    <div class="cart-item" data-id="${item.id}">
                        <img src="${item.image}" alt="${item.name}">
                        <div class="cart-item-info">
                            <h4>${item.name}</h4>
                            <p>₹${item.price.toLocaleString('en-IN')}</p>
                        </div>
                        <div class="cart-item-controls">
                            <button class="quantity-btn" data-action="decrease">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn" data-action="increase">+</button>
                            <button class="remove-item-btn" title="Remove Item">
                                <svg class="icon" style="width:20px;height:20px;"><use xlink:href="#icon-trash"></use></svg>
                            </button>
                        </div>
                    </div>
                `).join('');

                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                cartTotalElement.textContent = `Total: ₹${total.toLocaleString('en-IN')}`;
            }

            function openProductDetail(productId) {
                const product = productsData.find(p => p.id == productId);
                if (!product) return;
                document.getElementById('modal-img').src = product.image;
                document.getElementById('modal-title').textContent = product.name;
                document.getElementById('modal-description').textContent = product.description;
                document.getElementById('modal-price').textContent = `₹${product.price.toLocaleString('en-IN')}`;
                
                const specsContainer = document.getElementById('modal-specs');
                specsContainer.innerHTML = '<h4>Technical Specifications</h4><ul>' + 
                    Object.entries(product.specs).map(([key, value]) => `<li><strong>${key}:</strong> ${value}</li>`).join('') + 
                    '</ul>';
                
                const addToCartBtn = document.getElementById('modal-add-to-cart');
                addToCartBtn.onclick = () => {
                    addToCart(product.id);
                    productDetailModal.classList.remove('show');
                };
                
                productDetailModal.classList.add('show');
            }

            productGrid.addEventListener('click', (e) => {
                const card = e.target.closest('.product-card');
                if (card) openProductDetail(card.dataset.id);
            });

            document.querySelectorAll('.add-bundle-to-cart').forEach(btn => {
                btn.addEventListener('click', () => addBundleToCart(btn.dataset.bundle));
            });

            cartIcon.addEventListener('click', () => {
                renderCart();
                cartModal.classList.add('show');
            });

            cartItemsContainer.addEventListener('click', (e) => {
                const target = e.target.closest('button');
                if (!target) return;
                const cartItemDiv = e.target.closest('.cart-item');
                const productId = cartItemDiv.dataset.id;
                const itemInCart = cart.find(item => item.id == productId);

                if (target.matches('.quantity-btn')) {
                    const action = target.dataset.action;
                    if (action === 'increase') {
                        itemInCart.quantity++;
                    } else if (action === 'decrease') {
                        itemInCart.quantity--;
                        if (itemInCart.quantity === 0) {
                            cart = cart.filter(item => item.id != productId);
                        }
                    }
                } else if (target.matches('.remove-item-btn')) {
                    cart = cart.filter(item => item.id != productId);
                }
                updateCartCounter();
                renderCart();
            });
            
            document.querySelectorAll('.modal .close-btn').forEach(btn => {
                btn.addEventListener('click', () => btn.closest('.modal').classList.remove('show'));
            });
            
            const countdownElement = document.getElementById('countdown');
            if (countdownElement) {
                let time = new Date().setHours(23, 59, 59, 999) - new Date();
                const updateCountdown = () => {
                    time -= 1000;
                    if (time < 0) time = 0;
                    const h = String(Math.floor((time/(1000*60*60))%24)).padStart(2,'0');
                    const m = String(Math.floor((time/1000/60)%60)).padStart(2,'0');
                    const s = String(Math.floor((time/1000)%60)).padStart(2,'0');
                    countdownElement.textContent = `Offer ends in: ${h}h ${m}m ${s}s`;
                };
                updateCountdown();
                setInterval(updateCountdown, 1000);
            }

            const journalModal = document.getElementById('journalModal');
            blogGrid.addEventListener('click', (e) => {
                const target = e.target.closest('.read-more-btn');
                if (target) {
                    const postId = target.dataset.id;
                    const post = blogPostsData.find(p => p.id == postId);
                    if (post) {
                        document.getElementById('journal-modal-image').src = post.image;
                        document.getElementById('journal-modal-title').textContent = post.title;
                        document.getElementById('journal-modal-meta').textContent = `By ${post.author} on ${post.date}`;
                        document.getElementById('journal-modal-content').innerHTML = post.content;
                        journalModal.classList.add('show');
                    }
                }
            });

            const checkoutBtn = document.getElementById('checkout-btn');
            const shippingModal = document.getElementById('checkoutShippingModal');
            const paymentModal = document.getElementById('checkoutPaymentModal');
            const confirmationModal = document.getElementById('orderConfirmationModal');
            const shippingForm = document.getElementById('shipping-form');
            const placeOrderBtn = document.getElementById('place-order-btn');
            const closeConfirmationBtn = document.getElementById('close-confirmation-btn');
            
            checkoutBtn.addEventListener('click', () => {
                if (cart.length > 0) {
                    cartModal.classList.remove('show');
                    shippingModal.classList.add('show');
                }
            });

            shippingForm.addEventListener('submit', (e) => {
                e.preventDefault();
                shippingModal.classList.remove('show');
                paymentModal.classList.add('show');
            });

            placeOrderBtn.addEventListener('click', () => {
                paymentModal.classList.remove('show');
                confirmationModal.classList.add('show');
                cart = [];
                updateCartCounter();
                renderCart();
            });

            closeConfirmationBtn.addEventListener('click', () => {
                confirmationModal.classList.remove('show');
            });

            const apiKey = ""; 

            async function callGeminiAPI(prompt, maxRetries = 3) {
                let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
                const payload = { contents: chatHistory };
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

                for (let i = 0; i < maxRetries; i++) {
                    try {
                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            return result.candidates[0].content.parts[0].text;
                        } else {
                            throw new Error("Invalid response structure from API.");
                        }
                    } catch (error) {
                        console.error(`API call failed (attempt ${i + 1}):`, error);
                        if (i === maxRetries - 1) {
                            return "Error: Could not get a response from the AI. Please try again later.";
                        }
                        await new Promise(resolve => setTimeout(resolve, 1000 * Math.pow(2, i)));
                    }
                }
            }

            const conciergeModal = document.getElementById('techConciergeModal');
            const openConciergeBtn = document.getElementById('open-concierge-btn');
            const conciergeSubmitBtn = document.getElementById('concierge-submit-btn');
            const conciergeResponseContainer = document.getElementById('concierge-response');
            const conciergeInput = document.getElementById('concierge-input');

            openConciergeBtn.addEventListener('click', () => {
                conciergeInput.value = '';
                conciergeResponseContainer.style.display = 'none';
                conciergeResponseContainer.innerHTML = '';
                conciergeModal.classList.add('show');
            });

            conciergeSubmitBtn.addEventListener('click', async () => {
                const userInput = conciergeInput.value.trim();
                if (!userInput) {
                    showToast("Please describe your needs.", false);
                    return;
                }

                conciergeResponseContainer.style.display = 'block';
                conciergeResponseContainer.innerHTML = '<div class="loader"></div>';
                conciergeSubmitBtn.disabled = true;

                const productListString = productsData.map(p => `${p.name}: ${p.description}`).join('\n');
                const prompt = `You are a tech advisor for a premium gadget store called Arpana Tech. A customer needs help. Their request is: "${userInput}". Based on our available products, recommend the best one or a combination of them. Be concise, professional, and explain your recommendation clearly. Our products are:\n${productListString}`;
                
                const aiResponse = await callGeminiAPI(prompt);
                
                conciergeResponseContainer.innerHTML = aiResponse.replace(/\n/g, '<br>');
                conciergeSubmitBtn.disabled = false;
            });
        });
    </script>
</body>
</html>
